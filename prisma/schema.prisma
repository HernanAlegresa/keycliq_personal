generator client {
provider = "prisma-client-js"
}


datasource db {
provider = "sqlite"
url = env("DATABASE_URL")
}


model User {
id String @id @default(cuid())
email String @unique
password String
role Role @default(USER)
sessions Session[]
keys Key[]
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
}


enum Role {
USER
ADMIN
}


model Session {
id String @id @default(cuid())
userId String
user User @relation(fields: [userId], references: [id], onDelete: Cascade)
expiration DateTime
createdAt DateTime @default(now())
}


model Key {
id String @id @default(cuid())
ownerId String
owner User @relation(fields: [ownerId], references: [id], onDelete: Cascade)
label String
description String?
imageUrl String?
images KeyImage[]
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
}


model KeyImage {
id String @id @default(cuid())
keyId String
key Key @relation(fields: [keyId], references: [id], onDelete: Cascade)
imageUrl String
createdAt DateTime @default(now())
}