import{a as b}from"/build/_shared/chunk-PGOH7JLP.js";import{b as c,n as x}from"/build/_shared/chunk-VHMXRLU6.js";import{a as y,b as g}from"/build/_shared/chunk-4HXKWYDW.js";import{c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var N=i(b(),1);var v=i(y(),1),e=i(g(),1);function f(){let{analysis:s,error:o}=x(),l=c(),[r,n]=(0,v.useState)("extraction");if(o)return(0,e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 max-w-md w-full mx-4",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26A0\uFE0F"}),(0,e.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:o}),(0,e.jsx)("button",{onClick:()=>l("/scan"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Scan"})]})})});let p=t=>new Date(t).toLocaleString(),d=t=>({bowmark:"\u{1F3F7}\uFE0F",bowcode:"\u{1F3ED}",surface_finish:"\u2728",key_color:"\u{1F3A8}",bow_shape:"\u{1F4D0}",bow_size:"\u{1F4CF}",peak_count:"\u{1F522}",groove_count:"\u{1F522}",blade_profile:"\u{1F527}"})[t]||"\u{1F4CB}",u=t=>{switch(t){case"MATCH_FOUND":return"text-green-600 bg-green-100";case"POSSIBLE_KEYS":return"text-yellow-600 bg-yellow-100";case"NO_MATCH":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},m=t=>t>=.95?"text-green-600":t>=.8?"text-yellow-600":"text-red-600";return(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,e.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Key Analysis Details"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Detailed parameter extraction and comparison analysis"})]}),(0,e.jsx)("button",{onClick:()=>l("/scan"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Scan"})]})})}),(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,e.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("div",{className:`text-2xl font-bold ${m(s.similarity||0)}`,children:[((s.similarity||0)*100).toFixed(1),"%"]}),(0,e.jsx)("div",{className:"text-gray-600",children:"Similarity"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u(s.matchType||"NO_MATCH")}`,children:s.matchType||"NO_MATCH"}),(0,e.jsx)("div",{className:"text-gray-600 mt-1",children:"Result"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.debugId?s.debugId.split("_")[1]:"N/A"}),(0,e.jsx)("div",{className:"text-gray-600",children:"Debug ID"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-sm font-medium text-gray-900",children:p(s.timestamp||new Date().toISOString())}),(0,e.jsx)("div",{className:"text-gray-600",children:"Timestamp"})]})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,e.jsx)("div",{className:"border-b border-gray-200",children:(0,e.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,e.jsx)("button",{onClick:()=>n("extraction"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="extraction"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\u{1F52C} Parameter Extraction"}),(0,e.jsx)("button",{onClick:()=>n("comparison"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="comparison"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\u{1F50D} Comparison Details"}),(0,e.jsx)("button",{onClick:()=>n("raw"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="raw"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\u{1F4DD} Raw Data"})]})}),(0,e.jsxs)("div",{className:"p-6",children:[r==="extraction"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Extracted Parameters"}),s.querySignature?(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Query Key Parameters"}),(0,e.jsx)("div",{className:"space-y-2",children:Object.entries(s.querySignature).map(([t,a])=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("span",{className:"text-lg",children:d(t)}),(0,e.jsx)("span",{className:"font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")})]}),(0,e.jsx)("span",{className:`px-2 py-1 rounded text-sm font-medium ${a===null?"bg-gray-200 text-gray-600":"bg-blue-100 text-blue-800"}`,children:a===null?"Not detected":String(a)})]},t))})]}),s.inventorySignature&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Inventory Key Parameters"}),(0,e.jsx)("div",{className:"space-y-2",children:Object.entries(s.inventorySignature).map(([t,a])=>(0,e.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("span",{className:"text-lg",children:d(t)}),(0,e.jsx)("span",{className:"font-medium text-gray-700 capitalize",children:t.replace(/_/g," ")})]}),(0,e.jsx)("span",{className:`px-2 py-1 rounded text-sm font-medium ${a===null?"bg-gray-200 text-gray-600":"bg-green-100 text-green-800"}`,children:a===null?"Not detected":String(a)})]},t))})]})]}):(0,e.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No parameter extraction data available"})]}),r==="comparison"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comparison Analysis"}),s.parameterDetails?(0,e.jsx)("div",{className:"space-y-4",children:Object.entries(s.parameterDetails).map(([t,a])=>(0,e.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("span",{className:"text-lg",children:d(t)}),(0,e.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:t.replace(/_/g," ")}),(0,e.jsxs)("span",{className:"text-sm text-gray-500",children:["(Weight: ",(a.weight*100).toFixed(0),"%)"]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("span",{className:`px-2 py-1 rounded text-sm font-medium ${a.match?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.reason.replace(/_/g," ")}),(0,e.jsxs)("span",{className:`font-bold ${m(a.similarity)}`,children:[(a.similarity*100).toFixed(0),"%"]})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Query:"}),(0,e.jsx)("span",{className:"ml-2 font-medium",children:a.value1===null?"Not detected":String(a.value1)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Inventory:"}),(0,e.jsx)("span",{className:"ml-2 font-medium",children:a.value2===null?"Not detected":String(a.value2)})]})]}),(0,e.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Contribution to final similarity: ",(a.contribution*100).toFixed(1),"%"]})]},t))}):(0,e.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No comparison data available"})]}),r==="raw"&&(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Raw Analysis Data"}),(0,e.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:JSON.stringify(s,null,2)})]})]})]})]})]})}export{f as a};
