import{a as B}from"/build/_shared/chunk-NS5VKCTN.js";import{a as I}from"/build/_shared/chunk-OWLHX2XX.js";import{a as i}from"/build/_shared/chunk-6NNHUWD2.js";import{a as C}from"/build/_shared/chunk-NDLLOLF7.js";import{a as w}from"/build/_shared/chunk-PGOH7JLP.js";import{b as y,n as p}from"/build/_shared/chunk-VHMXRLU6.js";import{a as x,b as g}from"/build/_shared/chunk-4HXKWYDW.js";import{c as o}from"/build/_shared/chunk-Q3IECNXJ.js";var v=o(w(),1);var k=o(x(),1),S=o(C(),1),z=o(B(),1);var M=o(I(),1),e=o(g(),1),A={hideFooter:!0,title:"KeyCliq",showBackButton:!1};function _(){let{key:a,confidence:r,keyMatchingId:d,candidates:l,isMultipleCandidates:c}=p(),n=y(),[t,N]=(0,k.useState)(null),m=()=>{c&&t?n(`/keys/${t}?from=/scan/possible&confirmed=true`):!c&&a&&n(`/keys/${a.id}?from=/scan/possible&confirmed=true`)},f=()=>{n("/scan")},h=()=>{n("/scan/new")},u=()=>{c&&t?n(`/scan/analysis?keyId=${t}&confidence=${r}`):!c&&d?n(`/scan/analysis?keyMatchingId=${d}`):!c&&a&&n(`/scan/analysis?keyId=${a.id}&confidence=${r}`)},b=s=>{N(s)},K=(r*100).toFixed(1);return c&&l?(0,e.jsx)("div",{className:"scan-match-found",children:(0,e.jsxs)("div",{className:"scan-match-found__content",children:[(0,e.jsxs)("div",{className:"scan-match-found__header",children:[(0,e.jsx)("h1",{className:"scan-match-found__title",children:"Possible Keys \u2013 Best Matches"}),(0,e.jsx)("div",{className:"scan-match-found__success-icon",style:{backgroundColor:"#f59e0b"},children:(0,e.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,e.jsxs)("div",{className:"scan-match-found__message",style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,e.jsx)("p",{style:{fontSize:"0.95rem",color:"#4b5563",lineHeight:"1.5"},children:"We found the best matches according to the key you scanned from your inventory."}),(0,e.jsx)("p",{style:{fontSize:"0.85rem",color:"#6b7280",lineHeight:"1.4",marginTop:"0.5rem"},children:"Select the correct key from the list below."})]}),(0,e.jsx)("div",{className:"possible-keys__list",style:{marginBottom:"2rem"},children:l.map(s=>(0,e.jsxs)("div",{className:`possible-keys__item ${t===s.id?"possible-keys__item--selected":""}`,onClick:()=>b(s.id),style:{display:"flex",alignItems:"center",padding:"1rem",marginBottom:"0.75rem",backgroundColor:t===s.id?"#f0f9ff":"#ffffff",border:t===s.id?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"0.75rem",cursor:"pointer",transition:"all 0.2s ease"},children:[(0,e.jsx)("div",{className:"possible-keys__item-image",style:{marginRight:"1rem",flexShrink:0},children:(0,e.jsx)("img",{src:s.imageUrl||"/api/placeholder/200x150",alt:s.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"0.5rem",border:"1px solid #e5e7eb"}})}),(0,e.jsxs)("div",{className:"possible-keys__item-content",style:{flex:1},children:[(0,e.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#111827",margin:"0 0 0.25rem 0"},children:s.name}),(0,e.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.25rem 0"},children:s.description||"Sin descripci\xF3n"}),s.unit&&(0,e.jsxs)("p",{style:{fontSize:"0.75rem",color:"#9ca3af",margin:"0"},children:["Unit: ",s.unit]}),s.door&&(0,e.jsxs)("p",{style:{fontSize:"0.75rem",color:"#9ca3af",margin:"0"},children:["Door: ",s.door]})]}),(0,e.jsx)("div",{className:"possible-keys__item-indicator",style:{flexShrink:0},children:t===s.id?(0,e.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:"#3b82f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,e.jsx)("svg",{width:"12",height:"12",fill:"white",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):(0,e.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid #d1d5db",borderRadius:"50%"}})})]},s.id))}),(0,e.jsxs)("div",{className:"scan-match-found__actions",children:[(0,e.jsx)(i,{variant:"primary",size:"large",onClick:m,disabled:!t,className:"w-full py-3 rounded-2xl",children:"Yes, Is This Key"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:h,className:"w-full py-3 rounded-2xl",children:"No, Save as New Key"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:u,disabled:!t,className:"w-full py-3 rounded-2xl",children:"View Analysis"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:f,className:"w-full py-3 rounded-2xl",children:"Try Again"})]})]})}):(0,e.jsx)("div",{className:"scan-match-found",children:(0,e.jsxs)("div",{className:"scan-match-found__content",children:[(0,e.jsxs)("div",{className:"scan-match-found__header",children:[(0,e.jsx)("h1",{className:"scan-match-found__title",children:"Possible Match"}),(0,e.jsx)("div",{className:"scan-match-found__success-icon",style:{backgroundColor:"#f59e0b"},children:(0,e.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,e.jsx)("div",{className:"scan-match-found__message",style:{textAlign:"center",marginBottom:"1.5rem"},children:(0,e.jsx)("p",{style:{fontSize:"0.95rem",color:"#4b5563",lineHeight:"1.5"},children:"We found a key that might match. Is this the key you scanned?"})}),(0,e.jsxs)("div",{className:"scan-match-found__key-card",children:[(0,e.jsx)("div",{className:"scan-match-found__key-image",children:(0,e.jsx)("img",{src:a.imageUrl||"/api/placeholder/200x150",alt:a.name,className:"scan-match-found__key-img"})}),(0,e.jsxs)("div",{className:"scan-match-found__key-details",children:[(0,e.jsx)("h2",{className:"scan-match-found__key-name",children:a.name}),a.description&&(0,e.jsx)("p",{className:"scan-match-found__key-address",children:a.description}),a.unit&&(0,e.jsxs)("p",{className:"scan-match-found__key-address",children:["Unit: ",a.unit]}),a.door&&(0,e.jsxs)("p",{className:"scan-match-found__key-address",children:["Door: ",a.door]}),(0,e.jsxs)("div",{className:"scan-match-found__match-badge",style:{backgroundColor:"#fef3c7"},children:[(0,e.jsx)("div",{className:"scan-match-found__match-dot",style:{backgroundColor:"#f59e0b"}}),(0,e.jsx)("span",{className:"scan-match-found__match-text",style:{color:"#92400e"},children:"Possible match"})]})]})]}),(0,e.jsxs)("div",{className:"scan-match-found__actions",children:[(0,e.jsx)(i,{variant:"primary",size:"large",onClick:m,className:"w-full py-3 rounded-2xl",children:"Yes, It's This Key"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:h,className:"w-full py-3 rounded-2xl",children:"No, Save as New Key"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:u,className:"w-full py-3 rounded-2xl",children:"View Analysis"}),(0,e.jsx)(i,{variant:"secondary",size:"large",onClick:f,className:"w-full py-3 rounded-2xl",children:"Try Again"})]})]})})}export{_ as default,A as handle};
